# Packets

Packets are send between the nodes and the host, later also between the web dashboard and the host.
They are send over a websocket connection.

Packets are encoded like this:
```json
{
    "type": <type>
    "content": {

    }
} 
```

There are different types of packets: 

### Auth

The `auth` packet is the first package that is being send by the node/web.
The secret key is a token generated by the host, that is needed for any device that wants to connect.

content:
```json
{
    "key": <secret key>
}
```

### Config

The `config` packet is normally send from the host to the client. It returns the full config of the host.

content:
```json
{
    "config": {
        "host": <ip of host>,
        "port": <port of host>,
        "todo": "todo"
    }
}
```

### Add account

the `add_account` packet is send to add a account to the host.

account types:
    - ms
    - gc
    - mojang

content:
```json
{
    "account": {
        "acc_type": <account type>,
        "password": <account password>,
        "email": <account email>
    }
}
```

### Remove account
the `remove_account` packet is send to remove an account.

content:
```json
{
    "remove": {
        "email": "email@email.com"
    }
}
```

### Task

The `task` packet is send from a node to a host.
For example, this could be a command to snipe a name with specified bearers.

content:
```json
{
    "task": {
        "type": <task type>
    } 
}
```

### Response

The `response` packet is send from the host to a node. 

content:
```json
{
    "reponse": {
        "error": null,
        "message": "error message"
    }
}
```

### Get state

The `get_state` packet gets the full state of the host. This includes the queue, accounts, config, etc.
